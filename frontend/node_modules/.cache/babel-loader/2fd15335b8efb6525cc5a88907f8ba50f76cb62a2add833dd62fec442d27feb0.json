{"ast":null,"code":"var _jsxFileName = \"C:\\\\web_ai\\\\react-workspace\\\\STrio_LungMate_FE\\\\frontend\\\\src\\\\features\\\\auth\\\\ResetPassword.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport instance from \"../../token/interceptors\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResetPassword = ({\n  onNavigate\n}) => {\n  _s();\n  const [token, setToken] = useState(\"\");\n  const [pwd, setPwd] = useState(\"\");\n  const [pwd2, setPwd2] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [ok, setOk] = useState(\"\");\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const t = params.get(\"token\");\n    setToken(t || \"\");\n    if (!t) setError(\"유효하지 않은 접근입니다.(토큰 없음)\");\n  }, []);\n  const onSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    setOk(\"\");\n    if (!token) return setError(\"토큰이 없습니다.\");\n    if (!pwd || pwd.length < 4) return setError(\"비밀번호는 4자 이상이어야 합니다.\");\n    if (pwd !== pwd2) return setError(\"비밀번호가 일치하지 않습니다.\");\n    try {\n      const res = await instance.post(\"/member/resetPasswd\", {\n        token,\n        newPassword: pwd\n      });\n      setOk(res.data.message || \"비밀번호가 변경되었습니다. 로그인 해주세요.\");\n      setTimeout(() => onNavigate(\"login\"), 2000);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const msg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"처리 중 오류가 발생했습니다.\";\n      setError(msg);\n    }\n  };\n  const input = \"w-full p-2 bg-gray-700 rounded mt-1 border border-gray-600 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto mt-10 p-6 border border-gray-700 rounded\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold mb-4\",\n      children: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uC7AC\\uC124\\uC815\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"\\uC0C8 \\uBE44\\uBC00\\uBC88\\uD638\",\n        className: input,\n        value: pwd,\n        onChange: e => setPwd(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"\\uC0C8 \\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",\n        className: input,\n        value: pwd2,\n        onChange: e => setPwd2(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-blue-600 py-2 rounded hover:bg-blue-700 font-bold\",\n        children: \"\\uBCC0\\uACBD\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-400 text-center text-sm pt-2\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this), ok && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-green-400 text-center text-sm pt-2\",\n      children: ok\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(ResetPassword, \"laXSKUmAD4VUG0wVdxWL3TWjLbw=\");\n_c = ResetPassword;\nexport default ResetPassword;\nvar _c;\n$RefreshReg$(_c, \"ResetPassword\");","map":{"version":3,"names":["React","useState","useEffect","instance","jsxDEV","_jsxDEV","ResetPassword","onNavigate","_s","token","setToken","pwd","setPwd","pwd2","setPwd2","error","setError","ok","setOk","params","URLSearchParams","window","location","search","t","get","onSubmit","e","preventDefault","length","res","post","newPassword","data","message","setTimeout","err","_err$response","_err$response$data","msg","response","input","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","_c","$RefreshReg$"],"sources":["C:/web_ai/react-workspace/STrio_LungMate_FE/frontend/src/features/auth/ResetPassword.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport instance from \"../../token/interceptors\";\r\n\r\nconst ResetPassword = ({ onNavigate }) => {\r\n  const [token, setToken] = useState(\"\");\r\n  const [pwd, setPwd] = useState(\"\");\r\n  const [pwd2, setPwd2] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [ok, setOk] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(window.location.search);\r\n    const t = params.get(\"token\");\r\n    setToken(t || \"\");\r\n    if (!t) setError(\"유효하지 않은 접근입니다.(토큰 없음)\");\r\n  }, []);\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setOk(\"\");\r\n\r\n    if (!token) return setError(\"토큰이 없습니다.\");\r\n    if (!pwd || pwd.length < 4) return setError(\"비밀번호는 4자 이상이어야 합니다.\");\r\n    if (pwd !== pwd2) return setError(\"비밀번호가 일치하지 않습니다.\");\r\n\r\n    try {\r\n      const res = await instance.post(\"/member/resetPasswd\", { token, newPassword: pwd });\r\n      setOk(res.data.message || \"비밀번호가 변경되었습니다. 로그인 해주세요.\");\r\n      setTimeout(() => onNavigate(\"login\"), 2000);\r\n    } catch (err) {\r\n      const msg = err.response?.data?.message || \"처리 중 오류가 발생했습니다.\";\r\n      setError(msg);\r\n    }\r\n  };\r\n\r\n  const input = \"w-full p-2 bg-gray-700 rounded mt-1 border border-gray-600 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50\";\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto mt-10 p-6 border border-gray-700 rounded\">\r\n      <h2 className=\"text-xl font-bold mb-4\">비밀번호 재설정</h2>\r\n      <form onSubmit={onSubmit} className=\"space-y-4\">\r\n        <input type=\"password\" placeholder=\"새 비밀번호\" className={input}\r\n               value={pwd} onChange={e => setPwd(e.target.value)} />\r\n        <input type=\"password\" placeholder=\"새 비밀번호 확인\" className={input}\r\n               value={pwd2} onChange={e => setPwd2(e.target.value)} />\r\n        <button type=\"submit\" className=\"w-full bg-blue-600 py-2 rounded hover:bg-blue-700 font-bold\">\r\n          변경하기\r\n        </button>\r\n      </form>\r\n      {error && <p className=\"text-red-400 text-center text-sm pt-2\">{error}</p>}\r\n      {ok && <p className=\"text-green-400 text-center text-sm pt-2\">{ok}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}