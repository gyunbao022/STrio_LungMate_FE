{"ast":null,"code":"import React,{useState,useEffect}from'react';import styles from'../../styles/features/diagnosis/ImageUploader.module.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ImageUploader(_ref){let{onImageSelect,onAnalyze,isLoading,imageFile}=_ref;const[previewUrl,setPreviewUrl]=useState(null);useEffect(()=>{if(!imageFile){setPreviewUrl(null);return;}const objectUrl=URL.createObjectURL(imageFile);setPreviewUrl(objectUrl);// Clean up the object URL on unmount\nreturn()=>URL.revokeObjectURL(objectUrl);},[imageFile]);const handleFileChange=e=>{if(e.target.files&&e.target.files[0]){onImageSelect(e.target.files[0]);}};return/*#__PURE__*/_jsxs(\"div\",{className:styles.uploaderContainer,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.uploaderTitle,children:\"1. \\uD749\\uBD80 X-ray \\uC774\\uBBF8\\uC9C0 \\uC5C5\\uB85C\\uB4DC\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.uploaderPreviewArea,children:[previewUrl?/*#__PURE__*/_jsx(\"img\",{src:previewUrl,alt:\"X-ray preview\",className:styles.uploaderPreviewImage}):/*#__PURE__*/_jsxs(\"div\",{className:styles.uploaderPlaceholder,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-upload \".concat(styles.uploaderPlaceholderIcon)}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD30C\\uC77C\\uC744 \\uB4DC\\uB798\\uADF8\\uD558\\uAC70\\uB098 \\uD074\\uB9AD\\uD558\\uC5EC \\uC5C5\\uB85C\\uB4DC\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:styles.uploaderFileInput,accept:\"image/png, image/jpeg, image/dicom\",onChange:handleFileChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onAnalyze,disabled:!imageFile||isLoading,className:styles.uploaderButton,children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin \".concat(styles.uploaderButtonIcon)}),\" \\uBD84\\uC11D \\uC911...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-microscope \".concat(styles.uploaderButtonIcon)}),\" \\uBD84\\uC11D \\uC2DC\\uC791\"]})})]});}export default ImageUploader;","map":{"version":3,"names":["React","useState","useEffect","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ImageUploader","_ref","onImageSelect","onAnalyze","isLoading","imageFile","previewUrl","setPreviewUrl","objectUrl","URL","createObjectURL","revokeObjectURL","handleFileChange","e","target","files","className","uploaderContainer","children","uploaderTitle","uploaderPreviewArea","src","alt","uploaderPreviewImage","uploaderPlaceholder","concat","uploaderPlaceholderIcon","type","uploaderFileInput","accept","onChange","onClick","disabled","uploaderButton","uploaderButtonIcon"],"sources":["C:/web_ai/react-workspace/STrio_LungMate_FE/frontend/src/features/diagnosis/ImageUploader.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styles from '../../styles/features/diagnosis/ImageUploader.module.css';\r\n\r\nfunction ImageUploader({ onImageSelect, onAnalyze, isLoading, imageFile }) {\r\n    const [previewUrl, setPreviewUrl] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!imageFile) {\r\n            setPreviewUrl(null);\r\n            return;\r\n        }\r\n        const objectUrl = URL.createObjectURL(imageFile);\r\n        setPreviewUrl(objectUrl);\r\n        \r\n        // Clean up the object URL on unmount\r\n        return () => URL.revokeObjectURL(objectUrl);\r\n    }, [imageFile]);\r\n\r\n    const handleFileChange = (e) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            onImageSelect(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.uploaderContainer}>\r\n            <h2 className={styles.uploaderTitle}>1. 흉부 X-ray 이미지 업로드</h2>\r\n            <div className={styles.uploaderPreviewArea}>\r\n                {previewUrl ? (\r\n                    <img src={previewUrl} alt=\"X-ray preview\" className={styles.uploaderPreviewImage} />\r\n                ) : (\r\n                    <div className={styles.uploaderPlaceholder}>\r\n                        <i className={`fas fa-upload ${styles.uploaderPlaceholderIcon}`}></i>\r\n                        <p>파일을 드래그하거나 클릭하여 업로드</p>\r\n                    </div>\r\n                )}\r\n                 <input type=\"file\" className={styles.uploaderFileInput} accept=\"image/png, image/jpeg, image/dicom\" onChange={handleFileChange} />\r\n            </div>\r\n            <button onClick={onAnalyze} disabled={!imageFile || isLoading} className={styles.uploaderButton}>\r\n                 {isLoading ? (\r\n                    <>\r\n                        <i className={`fas fa-spinner fa-spin ${styles.uploaderButtonIcon}`}></i> 분석 중...\r\n                    </>\r\n                 ) : (\r\n                    <>\r\n                       <i className={`fas fa-microscope ${styles.uploaderButtonIcon}`}></i> 분석 시작\r\n                    </>\r\n                 )}\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImageUploader;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,0DAA0D,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE9E,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAqD,IAApD,CAAEC,aAAa,CAAEC,SAAS,CAAEC,SAAS,CAAEC,SAAU,CAAC,CAAAJ,IAAA,CACrE,KAAM,CAACK,UAAU,CAAEC,aAAa,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAElDC,SAAS,CAAC,IAAM,CACZ,GAAI,CAACa,SAAS,CAAE,CACZE,aAAa,CAAC,IAAI,CAAC,CACnB,OACJ,CACA,KAAM,CAAAC,SAAS,CAAGC,GAAG,CAACC,eAAe,CAACL,SAAS,CAAC,CAChDE,aAAa,CAACC,SAAS,CAAC,CAExB;AACA,MAAO,IAAMC,GAAG,CAACE,eAAe,CAACH,SAAS,CAAC,CAC/C,CAAC,CAAE,CAACH,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAO,gBAAgB,CAAIC,CAAC,EAAK,CAC5B,GAAIA,CAAC,CAACC,MAAM,CAACC,KAAK,EAAIF,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CACrCb,aAAa,CAACW,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACpC,CACJ,CAAC,CAED,mBACIlB,KAAA,QAAKmB,SAAS,CAAEvB,MAAM,CAACwB,iBAAkB,CAAAC,QAAA,eACrCvB,IAAA,OAAIqB,SAAS,CAAEvB,MAAM,CAAC0B,aAAc,CAAAD,QAAA,CAAC,6DAAmB,CAAI,CAAC,cAC7DrB,KAAA,QAAKmB,SAAS,CAAEvB,MAAM,CAAC2B,mBAAoB,CAAAF,QAAA,EACtCZ,UAAU,cACPX,IAAA,QAAK0B,GAAG,CAAEf,UAAW,CAACgB,GAAG,CAAC,eAAe,CAACN,SAAS,CAAEvB,MAAM,CAAC8B,oBAAqB,CAAE,CAAC,cAEpF1B,KAAA,QAAKmB,SAAS,CAAEvB,MAAM,CAAC+B,mBAAoB,CAAAN,QAAA,eACvCvB,IAAA,MAAGqB,SAAS,kBAAAS,MAAA,CAAmBhC,MAAM,CAACiC,uBAAuB,CAAG,CAAI,CAAC,cACrE/B,IAAA,MAAAuB,QAAA,CAAG,qGAAmB,CAAG,CAAC,EACzB,CACR,cACAvB,IAAA,UAAOgC,IAAI,CAAC,MAAM,CAACX,SAAS,CAAEvB,MAAM,CAACmC,iBAAkB,CAACC,MAAM,CAAC,oCAAoC,CAACC,QAAQ,CAAElB,gBAAiB,CAAE,CAAC,EAClI,CAAC,cACNjB,IAAA,WAAQoC,OAAO,CAAE5B,SAAU,CAAC6B,QAAQ,CAAE,CAAC3B,SAAS,EAAID,SAAU,CAACY,SAAS,CAAEvB,MAAM,CAACwC,cAAe,CAAAf,QAAA,CAC1Fd,SAAS,cACPP,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eACIvB,IAAA,MAAGqB,SAAS,2BAAAS,MAAA,CAA4BhC,MAAM,CAACyC,kBAAkB,CAAG,CAAI,CAAC,0BAC7E,EAAE,CAAC,cAEHrC,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eACGvB,IAAA,MAAGqB,SAAS,sBAAAS,MAAA,CAAuBhC,MAAM,CAACyC,kBAAkB,CAAG,CAAI,CAAC,6BACvE,EAAE,CACJ,CACE,CAAC,EACR,CAAC,CAEd,CAEA,cAAe,CAAAlC,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}