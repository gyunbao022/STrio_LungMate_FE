{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport instance from \"../../token/interceptors\"; // 백엔드 연결 후 사용\n\nconst Logout = ({\n  onNavigate\n}) => {\n  _s();\n  const hasRun = useRef(false);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: localStorage.getItem(\"Authorization\"),\n      \"Authorization-refresh\": localStorage.getItem(\"Authorization-refresh\")\n    }\n  };\n  const handleCommit = async () => {\n    console.log(\"logout\");\n    const email = localStorage.getItem(\"userId\");\n    console.log(\"logout=============> / :\", email);\n\n    // 백엔드와 연결되기 전까지는 아래 API 요청 주석 처리!\n\n    try {\n      await instance.delete(`/member/logout`, config);\n    } catch (error) {\n      console.log(\"logout 실패 =>\", error.message);\n    }\n\n    // 로컬스토리지 데이터 제거\n    localStorage.removeItem(\"Authorization\");\n    localStorage.removeItem(\"Authorization-refresh\");\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"userName\");\n    localStorage.removeItem(\"roleCd\");\n    localStorage.removeItem(\"isLogin\");\n\n    // 전체 비우는 경우 (위 코드들과 중복되므로 선택적으로 사용)\n    localStorage.clear();\n\n    // 홈으로 리다이렉트\n    //window.location.replace(\"/\");\n    onNavigate('login');\n  };\n  useEffect(() => {\n    if (hasRun.current) return;\n    hasRun.current = true;\n    handleCommit();\n  }, []);\n  return null; // 로그아웃 페이지는 실제 렌더링 필요 없음\n};\n_s(Logout, \"/+YHx4VX9OVYfM2tjd2Yl6u+s9U=\");\n_c = Logout;\nexport default Logout;\nvar _c;\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"names":["React","useEffect","useRef","instance","Logout","onNavigate","_s","hasRun","config","headers","Authorization","localStorage","getItem","handleCommit","console","log","email","delete","error","message","removeItem","clear","current","_c","$RefreshReg$"],"sources":["C:/web_ai/react-workspace/STrio_LungMate/frontend/src/components/login/Logout.jsx"],"sourcesContent":["import React, { useEffect,useRef } from \"react\";\r\nimport instance from \"../../token/interceptors\"; // 백엔드 연결 후 사용\r\n\r\n\r\nconst Logout = ({ onNavigate }) => {\r\n  const hasRun = useRef(false);\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: localStorage.getItem(\"Authorization\"),\r\n      \"Authorization-refresh\": localStorage.getItem(\"Authorization-refresh\"),\r\n    },\r\n  };\r\n\r\n  const handleCommit = async () => {\r\n    console.log(\"logout\");\r\n    const email = localStorage.getItem(\"userId\");\r\n    console.log(\"logout=============> / :\", email);\r\n\r\n    // 백엔드와 연결되기 전까지는 아래 API 요청 주석 처리!\r\n\r\n    try {\r\n      await instance.delete(`/member/logout`, config);\r\n    } catch (error) {\r\n      console.log(\"logout 실패 =>\", error.message);\r\n    }\r\n\r\n    // 로컬스토리지 데이터 제거\r\n    localStorage.removeItem(\"Authorization\");\r\n    localStorage.removeItem(\"Authorization-refresh\");\r\n    localStorage.removeItem(\"userId\");\r\n    localStorage.removeItem(\"userName\");\r\n    localStorage.removeItem(\"roleCd\");\r\n    localStorage.removeItem(\"isLogin\");\r\n\r\n    // 전체 비우는 경우 (위 코드들과 중복되므로 선택적으로 사용)\r\n    localStorage.clear();\r\n\r\n    // 홈으로 리다이렉트\r\n    //window.location.replace(\"/\");\r\n    onNavigate('login')\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (hasRun.current) return;\r\n    hasRun.current = true;    \r\n    handleCommit();\r\n  }, []);\r\n\r\n  return null; // 로그아웃 페이지는 실제 렌더링 필요 없음\r\n};\r\n\r\nexport default Logout;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAACC,MAAM,QAAQ,OAAO;AAC/C,OAAOC,QAAQ,MAAM,0BAA0B,CAAC,CAAC;;AAGjD,MAAMC,MAAM,GAAGA,CAAC;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EACjC,MAAMC,MAAM,GAAGL,MAAM,CAAC,KAAK,CAAC;EAC5B,MAAMM,MAAM,GAAG;IACbC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAEC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;MACpD,uBAAuB,EAAED,YAAY,CAACC,OAAO,CAAC,uBAAuB;IACvE;EACF,CAAC;EAED,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;IACrB,MAAMC,KAAK,GAAGL,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAC5CE,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEC,KAAK,CAAC;;IAE9C;;IAEA,IAAI;MACF,MAAMb,QAAQ,CAACc,MAAM,CAAC,gBAAgB,EAAET,MAAM,CAAC;IACjD,CAAC,CAAC,OAAOU,KAAK,EAAE;MACdJ,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEG,KAAK,CAACC,OAAO,CAAC;IAC5C;;IAEA;IACAR,YAAY,CAACS,UAAU,CAAC,eAAe,CAAC;IACxCT,YAAY,CAACS,UAAU,CAAC,uBAAuB,CAAC;IAChDT,YAAY,CAACS,UAAU,CAAC,QAAQ,CAAC;IACjCT,YAAY,CAACS,UAAU,CAAC,UAAU,CAAC;IACnCT,YAAY,CAACS,UAAU,CAAC,QAAQ,CAAC;IACjCT,YAAY,CAACS,UAAU,CAAC,SAAS,CAAC;;IAElC;IACAT,YAAY,CAACU,KAAK,CAAC,CAAC;;IAEpB;IACA;IACAhB,UAAU,CAAC,OAAO,CAAC;EACrB,CAAC;EAEDJ,SAAS,CAAC,MAAM;IACd,IAAIM,MAAM,CAACe,OAAO,EAAE;IACpBf,MAAM,CAACe,OAAO,GAAG,IAAI;IACrBT,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,IAAI,CAAC,CAAC;AACf,CAAC;AAACP,EAAA,CA9CIF,MAAM;AAAAmB,EAAA,GAANnB,MAAM;AAgDZ,eAAeA,MAAM;AAAC,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}