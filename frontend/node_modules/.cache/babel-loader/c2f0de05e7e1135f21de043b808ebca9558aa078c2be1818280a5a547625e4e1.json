{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ImageUploader(_ref){let{onImageSelect,onAnalyze,isLoading,imageFile}=_ref;const[previewUrl,setPreviewUrl]=useState(null);useEffect(()=>{if(!imageFile){setPreviewUrl(null);return;}const objectUrl=URL.createObjectURL(imageFile);setPreviewUrl(objectUrl);// Clean up the object URL on unmount\nreturn()=>URL.revokeObjectURL(objectUrl);},[imageFile]);const handleFileChange=e=>{if(e.target.files&&e.target.files[0]){onImageSelect(e.target.files[0]);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800/50 p-6 rounded-lg glassmorphism h-full flex flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4 self-start\",children:\"1. \\uD749\\uBD80 X-ray \\uC774\\uBBF8\\uC9C0 \\uC5C5\\uB85C\\uB4DC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-64 border-2 border-dashed border-gray-600 rounded-lg flex items-center justify-center mb-4 relative overflow-hidden bg-gray-900/50\",children:[previewUrl?/*#__PURE__*/_jsx(\"img\",{src:previewUrl,alt:\"X-ray preview\",className:\"h-full w-full object-contain\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-400\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-upload text-4xl mb-2\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD30C\\uC77C\\uC744 \\uB4DC\\uB798\\uADF8\\uD558\\uAC70\\uB098 \\uD074\\uB9AD\\uD558\\uC5EC \\uC5C5\\uB85C\\uB4DC\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer\",accept:\"image/png, image/jpeg, image/dicom\",onChange:handleFileChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onAnalyze,disabled:!imageFile||isLoading,className:\"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors duration-300 flex items-center justify-center\",children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin mr-2\"}),\" \\uBD84\\uC11D \\uC911...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-microscope mr-2\"}),\" \\uBD84\\uC11D \\uC2DC\\uC791\"]})})]});}export default ImageUploader;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ImageUploader","_ref","onImageSelect","onAnalyze","isLoading","imageFile","previewUrl","setPreviewUrl","objectUrl","URL","createObjectURL","revokeObjectURL","handleFileChange","e","target","files","className","children","src","alt","type","accept","onChange","onClick","disabled"],"sources":["D:/Medical AI/2nd_project_STrio/frontend/src/features/diagnosis/ImageUploader.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction ImageUploader({ onImageSelect, onAnalyze, isLoading, imageFile }) {\r\n    const [previewUrl, setPreviewUrl] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!imageFile) {\r\n            setPreviewUrl(null);\r\n            return;\r\n        }\r\n        const objectUrl = URL.createObjectURL(imageFile);\r\n        setPreviewUrl(objectUrl);\r\n        \r\n        // Clean up the object URL on unmount\r\n        return () => URL.revokeObjectURL(objectUrl);\r\n    }, [imageFile]);\r\n\r\n    const handleFileChange = (e) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            onImageSelect(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-gray-800/50 p-6 rounded-lg glassmorphism h-full flex flex-col items-center justify-center\">\r\n            <h2 className=\"text-xl font-bold mb-4 self-start\">1. 흉부 X-ray 이미지 업로드</h2>\r\n            <div className=\"w-full h-64 border-2 border-dashed border-gray-600 rounded-lg flex items-center justify-center mb-4 relative overflow-hidden bg-gray-900/50\">\r\n                {previewUrl ? (\r\n                    <img src={previewUrl} alt=\"X-ray preview\" className=\"h-full w-full object-contain\" />\r\n                ) : (\r\n                    <div className=\"text-center text-gray-400\">\r\n                        <i className=\"fas fa-upload text-4xl mb-2\"></i>\r\n                        <p>파일을 드래그하거나 클릭하여 업로드</p>\r\n                    </div>\r\n                )}\r\n                 <input type=\"file\" className=\"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer\" accept=\"image/png, image/jpeg, image/dicom\" onChange={handleFileChange} />\r\n            </div>\r\n            <button onClick={onAnalyze} disabled={!imageFile || isLoading} className=\"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors duration-300 flex items-center justify-center\">\r\n                 {isLoading ? (\r\n                    <>\r\n                        <i className=\"fas fa-spinner fa-spin mr-2\"></i> 분석 중...\r\n                    </>\r\n                 ) : (\r\n                    <>\r\n                       <i className=\"fas fa-microscope mr-2\"></i> 분석 시작\r\n                    </>\r\n                 )}\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImageUploader;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEnD,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAqD,IAApD,CAAEC,aAAa,CAAEC,SAAS,CAAEC,SAAS,CAAEC,SAAU,CAAC,CAAAJ,IAAA,CACrE,KAAM,CAACK,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAElDC,SAAS,CAAC,IAAM,CACZ,GAAI,CAACY,SAAS,CAAE,CACZE,aAAa,CAAC,IAAI,CAAC,CACnB,OACJ,CACA,KAAM,CAAAC,SAAS,CAAGC,GAAG,CAACC,eAAe,CAACL,SAAS,CAAC,CAChDE,aAAa,CAACC,SAAS,CAAC,CAExB;AACA,MAAO,IAAMC,GAAG,CAACE,eAAe,CAACH,SAAS,CAAC,CAC/C,CAAC,CAAE,CAACH,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAO,gBAAgB,CAAIC,CAAC,EAAK,CAC5B,GAAIA,CAAC,CAACC,MAAM,CAACC,KAAK,EAAIF,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CACrCb,aAAa,CAACW,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACpC,CACJ,CAAC,CAED,mBACIlB,KAAA,QAAKmB,SAAS,CAAC,8FAA8F,CAAAC,QAAA,eACzGtB,IAAA,OAAIqB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,6DAAmB,CAAI,CAAC,cAC1EpB,KAAA,QAAKmB,SAAS,CAAC,6IAA6I,CAAAC,QAAA,EACvJX,UAAU,cACPX,IAAA,QAAKuB,GAAG,CAAEZ,UAAW,CAACa,GAAG,CAAC,eAAe,CAACH,SAAS,CAAC,8BAA8B,CAAE,CAAC,cAErFnB,KAAA,QAAKmB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACtCtB,IAAA,MAAGqB,SAAS,CAAC,6BAA6B,CAAI,CAAC,cAC/CrB,IAAA,MAAAsB,QAAA,CAAG,qGAAmB,CAAG,CAAC,EACzB,CACR,cACAtB,IAAA,UAAOyB,IAAI,CAAC,MAAM,CAACJ,SAAS,CAAC,8DAA8D,CAACK,MAAM,CAAC,oCAAoC,CAACC,QAAQ,CAAEV,gBAAiB,CAAE,CAAC,EACtK,CAAC,cACNjB,IAAA,WAAQ4B,OAAO,CAAEpB,SAAU,CAACqB,QAAQ,CAAE,CAACnB,SAAS,EAAID,SAAU,CAACY,SAAS,CAAC,iMAAiM,CAAAC,QAAA,CACpQb,SAAS,cACPP,KAAA,CAAAE,SAAA,EAAAkB,QAAA,eACItB,IAAA,MAAGqB,SAAS,CAAC,6BAA6B,CAAI,CAAC,0BACnD,EAAE,CAAC,cAEHnB,KAAA,CAAAE,SAAA,EAAAkB,QAAA,eACGtB,IAAA,MAAGqB,SAAS,CAAC,wBAAwB,CAAI,CAAC,6BAC7C,EAAE,CACJ,CACE,CAAC,EACR,CAAC,CAEd,CAEA,cAAe,CAAAhB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}