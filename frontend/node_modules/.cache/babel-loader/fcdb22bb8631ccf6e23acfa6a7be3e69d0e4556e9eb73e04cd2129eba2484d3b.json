{"ast":null,"code":"import _objectSpread from\"C:/web_ai/react-workspace/STrio_LungMate_FE/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import AuthLayout from'../../components/AuthLayout';import styles from'../../styles/features/auth/Auth.module.css';import instance from\"../../token/interceptors\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FindAccount(_ref){let{onNavigate}=_ref;const[activeTab,setActiveTab]=useState('id');const[successMessage,setSuccessMessage]=useState('');// ✅ 성공 메시지 상태 추가\nconst[error,setError]=useState('');const[members,setMembers]=useState({userId:\"\",userName:\"\",email:\"\"});const handleValueChange=e=>{setMembers(prev=>{return _objectSpread(_objectSpread({},prev),{},{[e.target.name]:e.target.value});});};const maskUserId=userId=>{if(!userId)return\"\";// 문자열 길이가 4 미만인 경우 예외 처리\nif(userId.length<4)return userId;// 앞 2글자 + '**' + 5번째 이후\nreturn userId.substring(0,2)+\"**\"+userId.substring(4);};const handleFindId=async e=>{e.preventDefault();setSuccessMessage('');setError('');await instance.post(\"/member/findId\",members).then(response=>{console.log(response.data);const maskedId=maskUserId(response.data.userId);setSuccessMessage(\"\\uD68C\\uC6D0\\uC544\\uC774\\uB514\\uB294 \".concat(maskedId,\" \\uC785\\uB2C8\\uB2E4.\"));}).catch(error=>{console.log(\"signup 오류:\",error.message);setError(\"회원정보가 정확하지 않습니다.\");});};const handleFindPassword=async e=>{e.preventDefault();setSuccessMessage('');setError('');await instance.post(\"/member/findPasswd\",members).then(response=>{console.log(response.data);setSuccessMessage(\"\\uD68C\\uC6D0\\uB2D8 \\uBA54\\uC77C\\uB85C \\uB9C1\\uD06C\\uC815\\uBCF4\\uAC00 \\uBC1C\\uC1A1\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\");}).catch(error=>{console.log(\"signup 오류:\",error.message);setError(\"회원정보가 정확하지 않습니다.\");});};const resetForm=()=>{setMembers({userId:\"\",userName:\"\",email:\"\"});setError('');setSuccessMessage('');};return/*#__PURE__*/_jsxs(AuthLayout,{title:\"\\uACC4\\uC815 \\uCC3E\\uAE30\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-600 mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActiveTab('id');resetForm();},className:\"flex-1 py-2 text-center transition-colors duration-200 \".concat(activeTab==='id'?'text-white border-b-2 border-blue-500':'text-gray-400 hover:text-gray-200'),children:\"\\uC544\\uC774\\uB514 \\uCC3E\\uAE30\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActiveTab('pw');resetForm();},className:\"flex-1 py-2 text-center transition-colors duration-200 \".concat(activeTab==='pw'?'text-white border-b-2 border-blue-500':'text-gray-400 hover:text-gray-200'),children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"})]}),activeTab==='id'?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFindId,className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\uC774\\uB984\",name:\"userName\",value:members.userName,onChange:handleValueChange,className:styles.formInput}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"\\uC774\\uBA54\\uC77C\",name:\"email\",value:members.email,onChange:handleValueChange,className:styles.formInput}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:styles.btnPrimary,children:\"\\uC544\\uC774\\uB514 \\uCC3E\\uAE30\"})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFindPassword,className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\uC544\\uC774\\uB514\",name:\"userId\",value:members.userId,onChange:handleValueChange,className:styles.formInput}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"\\uC774\\uBA54\\uC77C\",name:\"email\",value:members.email,onChange:handleValueChange,className:styles.formInput}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:styles.btnPrimary,children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uC7AC\\uC124\\uC815 \\uB9C1\\uD06C \\uBCF4\\uB0B4\\uAE30\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400 text-center text-sm pt-2\",children:error}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-green-400 text-center text-sm mb-4\",children:successMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>onNavigate('login'),className:styles.linkPrimary,children:\"\\uB85C\\uADF8\\uC778 \\uD398\\uC774\\uC9C0\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"})})]});}export default FindAccount;","map":{"version":3,"names":["React","useState","AuthLayout","styles","instance","jsx","_jsx","jsxs","_jsxs","FindAccount","_ref","onNavigate","activeTab","setActiveTab","successMessage","setSuccessMessage","error","setError","members","setMembers","userId","userName","email","handleValueChange","e","prev","_objectSpread","target","name","value","maskUserId","length","substring","handleFindId","preventDefault","post","then","response","console","log","data","maskedId","concat","catch","message","handleFindPassword","resetForm","title","children","className","onClick","onSubmit","placeholder","onChange","formInput","type","btnPrimary","linkPrimary"],"sources":["C:/web_ai/react-workspace/STrio_LungMate_FE/frontend/src/features/auth/FindAccount.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport AuthLayout from '../../components/AuthLayout';\r\nimport styles from '../../styles/features/auth/Auth.module.css';\r\nimport instance from \"../../token/interceptors\";\r\n\r\nfunction FindAccount({ onNavigate }) {\r\n    const [activeTab, setActiveTab] = useState('id');\r\n    const [successMessage, setSuccessMessage] = useState(''); // ✅ 성공 메시지 상태 추가\r\n    const [error, setError] = useState('');\r\n    const [members, setMembers] = useState({\r\n        userId: \"\",\r\n        userName: \"\",\r\n        email: \"\",\r\n    }); \r\n\r\n    const handleValueChange = (e) => {\r\n        setMembers((prev) => {\r\n        return { ...prev, [e.target.name]: e.target.value };\r\n        });\r\n    };       \r\n\r\n    const maskUserId = (userId) => {\r\n        if (!userId) return \"\";\r\n\r\n        // 문자열 길이가 4 미만인 경우 예외 처리\r\n        if (userId.length < 4) return userId;\r\n\r\n        // 앞 2글자 + '**' + 5번째 이후\r\n        return userId.substring(0, 2) + \"**\" + userId.substring(4);\r\n    };\r\n\r\n    const handleFindId = async (e) => {\r\n        e.preventDefault();\r\n        setSuccessMessage('');\r\n        setError('');\r\n\r\n        await instance\r\n        .post(`/member/findId`, members)\r\n        .then((response) => {\r\n            console.log(response.data);      \r\n            const maskedId = maskUserId(response.data.userId);\r\n            setSuccessMessage(`회원아이디는 ${maskedId} 입니다.`);\r\n\r\n        })\r\n        .catch((error) => {\r\n            console.log(\"signup 오류:\", error.message);\r\n            setError(\"회원정보가 정확하지 않습니다.\");\r\n        });\r\n    };\r\n\r\n    const handleFindPassword = async (e) => {\r\n        e.preventDefault();\r\n        setSuccessMessage('');\r\n        setError('');\r\n\r\n        await instance\r\n        .post(`/member/findPasswd`, members)\r\n        .then((response) => {\r\n            console.log(response.data);            \r\n            setSuccessMessage(`회원님 메일로 링크정보가 발송되었습니다.`);\r\n        })\r\n        .catch((error) => {\r\n            console.log(\"signup 오류:\", error.message);\r\n            setError(\"회원정보가 정확하지 않습니다.\");\r\n        });    \r\n    };\r\n\r\n    const resetForm = () => {\r\n        setMembers({ userId: \"\", userName: \"\", email: \"\" });\r\n        setError('');\r\n        setSuccessMessage('');\r\n    };    \r\n\r\n    return (\r\n        <AuthLayout title=\"계정 찾기\">\r\n            <div className=\"flex border-b border-gray-600 mb-6\">\r\n                <button \r\n                    onClick={() => { setActiveTab('id'); resetForm(); }} \r\n                    className={`flex-1 py-2 text-center transition-colors duration-200 ${activeTab === 'id' ? 'text-white border-b-2 border-blue-500' : 'text-gray-400 hover:text-gray-200'}`}\r\n                >\r\n                    아이디 찾기\r\n                </button>\r\n                <button \r\n                    onClick={() => { setActiveTab('pw'); resetForm(); }} \r\n                    className={`flex-1 py-2 text-center transition-colors duration-200 ${activeTab === 'pw' ? 'text-white border-b-2 border-blue-500' : 'text-gray-400 hover:text-gray-200'}`}\r\n                >\r\n                    비밀번호 찾기\r\n                </button>\r\n            </div>\r\n\r\n            {activeTab === 'id' ? (\r\n                <form onSubmit={handleFindId} className=\"space-y-6\">\r\n                    <input placeholder=\"이름\" name=\"userName\" value={members.userName} onChange={handleValueChange} className={styles.formInput}/>\r\n                    <input type=\"email\" placeholder=\"이메일\" name=\"email\" value={members.email} onChange={handleValueChange} className={styles.formInput}/>\r\n                    <button type=\"submit\" className={styles.btnPrimary}>아이디 찾기</button>\r\n                </form>\r\n            ) : (\r\n                <form onSubmit={handleFindPassword} className=\"space-y-6\">\r\n                    <input placeholder=\"아이디\" name=\"userId\" value={members.userId} onChange={handleValueChange} className={styles.formInput}/>\r\n                    <input type=\"email\" placeholder=\"이메일\" name=\"email\" value={members.email} onChange={handleValueChange} className={styles.formInput}/>\r\n                    <button type=\"submit\" className={styles.btnPrimary}>비밀번호 재설정 링크 보내기</button>\r\n                </form>\r\n            )}\r\n            {error && <p className=\"text-red-400 text-center text-sm pt-2\">{error}</p>}\r\n            {successMessage && <p className=\"text-green-400 text-center text-sm mb-4\">{successMessage}</p>}\r\n\r\n            <div className=\"text-center mt-6\">\r\n                <button \r\n                    onClick={() => onNavigate('login')} \r\n                    className={styles.linkPrimary}\r\n                >\r\n                    로그인 페이지로 돌아가기\r\n                </button>\r\n            </div>\r\n        </AuthLayout>\r\n    );\r\n}\r\n\r\nexport default FindAccount;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}